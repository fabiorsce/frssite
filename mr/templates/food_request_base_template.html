{% extends "base.html" %}

{% block extrameta %}
    <meta http-equiv="refresh" content="30" >
    <meta name="description" content="Food request app example">
    <meta name="viewport" content="width=device-width, initial-scale=1">
{% endblock %}


{% block extrahead %}
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-100687088-1', 'auto');
      ga('send', 'pageview');

    </script>

    <script type="text/javascript">
    function getCookie(name) {
        var cookieValue = null;
        if (document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) == (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
    var csrftoken = getCookie('csrftoken');

    function csrfSafeMethod(method) {
        // these HTTP methods do not require CSRF protection
        return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
    }
    $.ajaxSetup({
        beforeSend: function(xhr, settings) {
            if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                xhr.setRequestHeader("X-CSRFToken", csrftoken);
            }
        }
    });
    </script>
    <script type="text/javascript">
    	$(document).ready(function() {
    		
    		$('#id_messages').hide();

            $("#id_btn_how_it_works").click(function(){
                $("#id_modal_how_it_works").modal();
            });

    	});
    </script>
    <style type="text/css">
        #id_requests {
            margin-top: 50px;
        }
        ul.nav-pills > li > a {
            border: 1px solid #a1a1a1;
        }
    </style>
{% endblock %}
{% block title%}
    Express Food Request
{% endblock %}

{% block content %}
    {% block express_food_header %}
    <div class="row">
        <div class="jumbotron">
          <h1 class="text-center">Express Food Request</h1>
        </div>
    </div>
    <div class="row">
        <h3 class="text-center">How it works 
            <a id="id_btn_how_it_works" class="btn btn-warning btn-sm" data-toggle="modal" href="#how_it_works">
                <span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
            </a>
        </h3>
    </div>  
    {% endblock %}
    
    {% block pills %}	

    {% endblock %}

    {% block modal %}
        <!-- Modal -->
        <div class="modal fade" id="id_modal_how_it_works" role="dialog">
            <div class="modal-dialog">
            
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="text-center">How it works</h4>
                </div>
                <div class="modal-body">
                    <p class="text-justify" style="text-indent: 50px;">Imagine you are in an express restaurant, like a fast food or a food truck. You can access the menu online and make your own requests. After choose the food and drinks and make a request, you will go to the cashier to pay for your request.</p>
                    <p class="text-justify" style="text-indent: 50px;">The cashier can see all the requests and ask your name. He can cancel a request or receive the payment and change the request status to PAID.</p>
                    <p class="text-justify" style="text-indent: 50px;">The kitchen will see all the paid requests. They will choose one or more reuquest to cook and change the status to PREPARING. When the request is finished, the kitchen will change the status to DONE.</p>
                    <p class="text-justify" style="text-indent: 50px;">The clients can follow the whole progress of their requests.</p>
                    <p class="text-justify" style="text-indent: 50px;">In a production enviroment, clients, cashier and kitchen should view only their respective screen, but as a demonstration, you can see all the views right below.</p>
                    <p class="text-justify" style="text-indent: 50px;">This solution is responsive, you can view in your smartphone, tablet or computer. It uses DJANGO, AJAX, JSON, Bootstrap, Javascript, JQuery and SQLite.</p>
                </div>
              </div>
              
            </div>
        </div> 
    {% endblock modal %}      

{% endblock %}		
